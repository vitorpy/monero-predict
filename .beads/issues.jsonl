{"id":"monero-predict-07e8","content_hash":"32c646c705e3bd5b046c8d86cf89d73cd10d8b69f60d867c4c703410d1c123a9","title":"Implement core FHE operations (keys.rs, crypto.rs)","description":"Implement FheKeyPair structure for managing client and server keys, and bet encryption/decryption functions. This is the core cryptographic layer.","design":"Create keys.rs with FheKeyPair struct containing ClientKey and ServerKey. Implement generate() using tfhe::ConfigBuilder, export_client_key() and export_server_key() using bincode serialization, from_bytes() for deserialization. Create crypto.rs with encrypt_bet() for FheUint8 (outcome) and FheUint64 (amount in piconeros), and decrypt functions for testing.","acceptance_criteria":"- [ ] keys.rs with FheKeyPair struct\n- [ ] Key generation with TFHE ConfigBuilder\n- [ ] Bincode serialization for keys\n- [ ] crypto.rs with encrypt_bet function\n- [ ] FheUint8 encryption for outcome (YES=0, NO=1)\n- [ ] FheUint64 encryption for amount in piconeros\n- [ ] Decrypt functions for round-trip testing\n- [ ] Unit tests for key generation and encryption","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:46:41.67851174+01:00","updated_at":"2025-11-09T18:46:41.67851174+01:00","dependencies":[{"issue_id":"monero-predict-07e8","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.423702438+01:00","created_by":"daemon"},{"issue_id":"monero-predict-07e8","depends_on_id":"monero-predict-ec52","type":"blocks","created_at":"2025-11-09T18:47:33.058063509+01:00","created_by":"daemon"}]}
{"id":"monero-predict-096b","content_hash":"942926634ddd29ed30eabcbe929cd7c1b72a2b9bb7253b1a1f799f2e79ec13c0","title":"Define IndexedDB schema with Dexie","description":"Create IndexedDB database schema using Dexie.js for storing client keys, wallet data, bets, and nonces. This is the local storage layer for all user data.","design":"Create src/lib/services/storage.ts with Dexie schema. Define tables: clientKey (id, data), wallet (id, seed, password-encrypted), bets (betId, marketId, nonce, commitment, txHash, amount, timestamp, status). Add proper indexes for efficient queries. Export db instance and helper functions.","acceptance_criteria":"- [ ] Dexie database class created\n- [ ] clientKey table defined\n- [ ] wallet table defined\n- [ ] bets table with proper indexes\n- [ ] Helper functions for CRUD operations\n- [ ] TypeScript types for all tables\n- [ ] Database initializes in browser\n- [ ] Can write and read test data","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T17:50:13.605316907+01:00","updated_at":"2025-11-09T18:16:03.421711019+01:00","closed_at":"2025-11-09T18:16:03.421711019+01:00","dependencies":[{"issue_id":"monero-predict-096b","depends_on_id":"monero-predict-99fd","type":"parent-child","created_at":"2025-11-09T17:50:25.905100049+01:00","created_by":"daemon"},{"issue_id":"monero-predict-096b","depends_on_id":"monero-predict-2d49","type":"blocks","created_at":"2025-11-09T17:50:26.469500889+01:00","created_by":"daemon"}]}
{"id":"monero-predict-14bf","content_hash":"69d896ca95ed44a3bdbfd09a0eff09d93bcb8045ec8fdfb07d9fea35d45b85ae","title":"Integrate FHE into web-bettor UI","description":"Add FHE key generation to setup page and bet encryption to betting flow. Provide progress feedback and handle errors gracefully.","design":"Update /setup page with key generation UI: progress bar, status message, estimated time. Call generateFheKeys() from worker, show 0-100% progress, save keys to IndexedDB on completion. Update bet form to call encryptBet() before submission, show spinner during encryption (~500ms), display commitment hash to user. Add key status indicator to dashboard. Provide option to download nonce file after bet placement.","acceptance_criteria":"- [ ] Setup page with key generation UI\n- [ ] Progress bar showing 0-100%\n- [ ] Status messages during generation\n- [ ] Keys saved to IndexedDB after generation\n- [ ] Bet form calls encryptBet()\n- [ ] Loading spinner during encryption\n- [ ] Commitment displayed to user\n- [ ] Nonce stored in IndexedDB\n- [ ] Optional nonce download button\n- [ ] Error messages for failures","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:47:13.288576468+01:00","updated_at":"2025-11-09T18:47:13.288576468+01:00","dependencies":[{"issue_id":"monero-predict-14bf","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.485889082+01:00","created_by":"daemon"},{"issue_id":"monero-predict-14bf","depends_on_id":"monero-predict-ee5c","type":"blocks","created_at":"2025-11-09T18:47:33.156692587+01:00","created_by":"daemon"},{"issue_id":"monero-predict-14bf","depends_on_id":"monero-predict-ed75","type":"blocks","created_at":"2025-11-09T18:47:33.168127487+01:00","created_by":"daemon"}]}
{"id":"monero-predict-258d","content_hash":"1cf209fe43bcc8846a68f1d40d65d61af6d2196acb339fbe7a4f36594188a7c0","title":"Configure WASM loading in Vite","description":"Configure Vite to properly load and bundle WebAssembly modules for both TFHE and monero-ts. WASM loading is critical for FHE encryption and wallet functionality.","design":"Update vite.config.ts to enable WASM support. Add vite-plugin-wasm if needed. Configure top-level await for WASM initialization. Set up worker configuration for multi-threading if required by TFHE. Add proper MIME types for WASM files.","acceptance_criteria":"- [ ] vite.config.ts configured for WASM\n- [ ] WASM files can be imported\n- [ ] Top-level await enabled\n- [ ] Worker configuration added if needed\n- [ ] Dev server serves WASM with correct MIME type\n- [ ] Test WASM import works (simple test)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T17:50:12.052120469+01:00","updated_at":"2025-11-09T18:10:02.130985085+01:00","closed_at":"2025-11-09T18:10:02.130985085+01:00","dependencies":[{"issue_id":"monero-predict-258d","depends_on_id":"monero-predict-99fd","type":"parent-child","created_at":"2025-11-09T17:50:25.879624945+01:00","created_by":"daemon"},{"issue_id":"monero-predict-258d","depends_on_id":"monero-predict-2d49","type":"blocks","created_at":"2025-11-09T17:50:26.441177405+01:00","created_by":"daemon"}]}
{"id":"monero-predict-2796","content_hash":"c5cf1730234ad2bd1ac9831df5bc0dc598058f375e5140f4681085fd2fa1d74d","title":"Coordinator API Extensions","description":"Extend the existing coordinator API to support web app requirements: market listing, market statistics, and CORS configuration. These endpoints are required for the web app to function.","design":"Add GET /markets endpoint for listing all active/resolved markets. Add GET /market/{id}/stats for pool size and bet count (privacy-preserving aggregates). Configure CORS to allow web app origin. Ensure existing bet and claim endpoints work with web client. Return JSON with proper error handling.","acceptance_criteria":"- [ ] GET /markets endpoint returns market list\n- [ ] GET /market/{id}/stats returns pool statistics\n- [ ] CORS configured for web app origin\n- [ ] Existing POST /market/{id}/bet works from browser\n- [ ] Existing POST /market/{id}/claim works from browser\n- [ ] All endpoints return proper JSON errors\n- [ ] API tested with web client","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-09T17:47:58.099245061+01:00","updated_at":"2025-11-09T17:47:58.099245061+01:00","dependencies":[{"issue_id":"monero-predict-2796","depends_on_id":"monero-predict-99fd","type":"blocks","created_at":"2025-11-09T17:49:20.209079919+01:00","created_by":"daemon"}]}
{"id":"monero-predict-2d49","content_hash":"cc47ed4b92394809252b36d96b759fc85221e31a95eda1c6803f172f01b7a259","title":"Install project dependencies","description":"Install all required dependencies for the web bettor: monero-ts for wallet functionality, Dexie.js for IndexedDB, WebTUI for styling, and other utilities.","design":"Install via npm: monero-ts@^0.9.4, dexie@^4.0.0, webtui (latest). Also install dev dependencies for TypeScript and build tooling. Verify package.json has correct versions.","acceptance_criteria":"- [ ] monero-ts installed (^0.9.4)\n- [ ] dexie installed (^4.0.0)\n- [ ] webtui installed (latest)\n- [ ] TypeScript and dev dependencies installed\n- [ ] package.json has all dependencies listed\n- [ ] npm install runs without errors\n- [ ] No peer dependency warnings","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T17:50:11.502167697+01:00","updated_at":"2025-11-09T18:09:02.657216339+01:00","closed_at":"2025-11-09T18:09:02.657216339+01:00","dependencies":[{"issue_id":"monero-predict-2d49","depends_on_id":"monero-predict-99fd","type":"parent-child","created_at":"2025-11-09T17:50:25.869615235+01:00","created_by":"daemon"},{"issue_id":"monero-predict-2d49","depends_on_id":"monero-predict-e919","type":"blocks","created_at":"2025-11-09T17:50:26.430456781+01:00","created_by":"daemon"}]}
{"id":"monero-predict-36b0","content_hash":"67b510fc0a5cc94519b813129bfc4007c720e9f3eafe54a468d3c7596e0fb3d4","title":"Wallet Integration (monero-ts)","description":"Integrate monero-ts for full client-side Monero wallet functionality. Implement wallet creation/import, syncing, transaction creation, and balance tracking. This provides non-custodial wallet capabilities in the browser.","design":"Use monero-ts createWalletFull for WebAssembly-based wallet in browser. Support both new wallet creation (25-word seed) and restoration from existing seed. Connect to public mainnet daemon (node.moneroworld.com:18089). Implement transaction creation for bet payments with fee estimation. Add wallet state management with Svelte stores. Sync progress tracking with real-time UI updates.","acceptance_criteria":"- [ ] monero-ts WASM wallet initialization\n- [ ] Wallet creation UI with seed display\n- [ ] Wallet restoration from seed phrase\n- [ ] Daemon connection and sync tracking\n- [ ] Balance display (unlocked + locked)\n- [ ] Transaction creation for bet payments\n- [ ] Fee estimation working\n- [ ] Wallet state persisted in IndexedDB (encrypted)","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-09T17:47:51.568856996+01:00","updated_at":"2025-11-09T17:47:51.568856996+01:00","dependencies":[{"issue_id":"monero-predict-36b0","depends_on_id":"monero-predict-99fd","type":"blocks","created_at":"2025-11-09T17:49:20.201360324+01:00","created_by":"daemon"}]}
{"id":"monero-predict-37da","content_hash":"879adfe456242dbb212f8deee989e3aec496612a804fee2090c8b2db9a670e52","title":"Claiming Flow","description":"Implement winnings claim flow: bet history view, claim form, nonce selection/upload, and payout submission. Users should be able to view their bets, check resolution status, and claim payouts with their saved nonces.","design":"Bet history queries IndexedDB for user's bets. Query coordinator for market resolution status. Claim form allows selecting nonce from IndexedDB or uploading file. Pre-fill payout address with current wallet address. Submit claim with betId, nonce, and payout address to coordinator API. Show claim status and payout amount. Update bet status in IndexedDB after claim.","acceptance_criteria":"- [ ] Bet history page with active/resolved/claimed sections\n- [ ] Bet detail view with market and status\n- [ ] Resolution status check from coordinator\n- [ ] Claim form with nonce selection from IndexedDB\n- [ ] Optional nonce file upload\n- [ ] Payout address input with wallet autofill\n- [ ] Claim submission to coordinator API\n- [ ] Payout amount display\n- [ ] Bet status update after claim","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-09T17:47:57.424204742+01:00","updated_at":"2025-11-09T17:47:57.424204742+01:00","dependencies":[{"issue_id":"monero-predict-37da","depends_on_id":"monero-predict-41cd","type":"blocks","created_at":"2025-11-09T17:49:21.264338717+01:00","created_by":"daemon"}]}
{"id":"monero-predict-3a07","content_hash":"e104b7e8474953e154ed916209bfd51243ef9eacc5ba937724bb4b07c83702b5","title":"Build WASM with wasm-pack and integrate","description":"Compile FHE client to WebAssembly and copy artifacts to web-bettor. Generate TypeScript definitions and JavaScript bindings.","design":"Run 'wasm-pack build --target web --features wasm' in crates/fhe-client/. This generates pkg/ directory with .js, .wasm, .d.ts files. Copy artifacts from pkg/ to web-bettor/src/lib/wasm/. Verify package.json, TypeScript definitions, and WASM binary are present. Test import in TypeScript to ensure types are recognized.","acceptance_criteria":"- [ ] wasm-pack build completes successfully\n- [ ] pkg/ directory contains all artifacts\n- [ ] .wasm binary generated (~3-5MB)\n- [ ] .js bindings generated\n- [ ] .d.ts TypeScript definitions generated\n- [ ] Artifacts copied to web-bettor/src/lib/wasm/\n- [ ] TypeScript can import and recognize types\n- [ ] WASM module loads in browser test","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:46:43.556504228+01:00","updated_at":"2025-11-09T18:46:43.556504228+01:00","dependencies":[{"issue_id":"monero-predict-3a07","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.450467021+01:00","created_by":"daemon"},{"issue_id":"monero-predict-3a07","depends_on_id":"monero-predict-c9f8","type":"blocks","created_at":"2025-11-09T18:47:33.110382059+01:00","created_by":"daemon"}]}
{"id":"monero-predict-41cd","content_hash":"2fc403c360e0bed90cf703038c3a4d37a462879d2b427b7c5ac7d66f5bf12340","title":"Betting Flow","description":"Implement complete betting flow: market browsing, market detail view, bet placement form, transaction submission, and bet confirmation. Users should be able to encrypt bets, send XMR, and save nonce proofs.","design":"Market list fetches from coordinator API (GET /markets). Market detail shows pool stats and resolution date. Bet form encrypts outcome+amount with FHE before submission. Create XMR transaction via monero-ts, submit encrypted bet + tx hash to coordinator. Save bet metadata (betId, nonce, commitment, txHash) to IndexedDB. Provide optional nonce download. Show TUI-styled confirmation screen.","acceptance_criteria":"- [ ] Market list component with active markets\n- [ ] Market detail page with pool statistics\n- [ ] Bet form with outcome selection (YES/NO)\n- [ ] Amount input with balance validation\n- [ ] Bet encryption before submission\n- [ ] XMR transaction creation and broadcast\n- [ ] Bet submission to coordinator API\n- [ ] Nonce storage in IndexedDB\n- [ ] Optional nonce file download\n- [ ] Confirmation screen with bet details","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-09T17:47:54.380196217+01:00","updated_at":"2025-11-09T17:47:54.380196217+01:00","dependencies":[{"issue_id":"monero-predict-41cd","depends_on_id":"monero-predict-d8e0","type":"blocks","created_at":"2025-11-09T17:49:20.728243079+01:00","created_by":"daemon"},{"issue_id":"monero-predict-41cd","depends_on_id":"monero-predict-36b0","type":"blocks","created_at":"2025-11-09T17:49:20.738428259+01:00","created_by":"daemon"},{"issue_id":"monero-predict-41cd","depends_on_id":"monero-predict-2796","type":"blocks","created_at":"2025-11-09T17:49:20.748137083+01:00","created_by":"daemon"}]}
{"id":"monero-predict-475f","content_hash":"00548e21bfa323323ff9e430082431dc05cab0fe9e0c54f9189154ec24333ca8","title":"Set up WebTUI theme and styling","description":"Integrate WebTUI CSS framework with catppuccin-mocha theme for terminal aesthetic. Apply theme globally to the application.","design":"Import WebTUI CSS from CDN or npm package. Create +layout.svelte with data-webtui-theme='catppuccin-mocha' on html element. Set up global styles with Courier New monospace font. Import component-specific WebTUI CSS as needed (buttons, cards, inputs, etc.).","acceptance_criteria":"- [ ] WebTUI CSS imported and loaded\n- [ ] catppuccin-mocha theme applied globally\n- [ ] Terminal aesthetic visible in browser\n- [ ] Monospace font applied\n- [ ] WebTUI components styled correctly\n- [ ] Theme persists across routes","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T17:50:12.61374363+01:00","updated_at":"2025-11-09T18:14:18.236286858+01:00","closed_at":"2025-11-09T18:14:18.236286858+01:00","dependencies":[{"issue_id":"monero-predict-475f","depends_on_id":"monero-predict-99fd","type":"parent-child","created_at":"2025-11-09T17:50:25.888147312+01:00","created_by":"daemon"},{"issue_id":"monero-predict-475f","depends_on_id":"monero-predict-2d49","type":"blocks","created_at":"2025-11-09T17:50:26.45005823+01:00","created_by":"daemon"}]}
{"id":"monero-predict-51cf","content_hash":"d9beca202db46e0420bab6b6a6983f24c3605d821b222b678babf8d390e8ffae","title":"Test and document FHE implementation","description":"Comprehensive testing of FHE operations and documentation of security model. Ensure production readiness.","design":"Write unit tests for Rust FHE client (key generation, encryption, commitment). Write integration tests for TypeScript service (WASM loading, encrypt/decrypt round-trip). Test in browser: generate keys, encrypt bet, verify storage, reload page, encrypt again. Measure performance: key gen time, encryption time, WASM load time, bundle size. Update README with FHE architecture, security model (client vs server key), storage requirements (115MB), performance characteristics.","acceptance_criteria":"- [ ] Rust unit tests passing\n- [ ] TypeScript integration tests passing\n- [ ] Browser test: full workflow works\n- [ ] Performance measured and documented\n- [ ] WASM bundle size verified (~3-5MB)\n- [ ] README updated with FHE architecture\n- [ ] Security model documented\n- [ ] Storage requirements documented\n- [ ] Known limitations documented","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:47:13.959574605+01:00","updated_at":"2025-11-09T18:47:13.959574605+01:00","dependencies":[{"issue_id":"monero-predict-51cf","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.495574399+01:00","created_by":"daemon"},{"issue_id":"monero-predict-51cf","depends_on_id":"monero-predict-14bf","type":"blocks","created_at":"2025-11-09T18:47:33.180048052+01:00","created_by":"daemon"}]}
{"id":"monero-predict-5b8a","content_hash":"5e3f6e710d240d6623776e47595178bdb28e4a72100eb2505abc60b04be4d17d","title":"Implement commitment scheme (commitment.rs)","description":"Implement nonce generation and SHA3-256 commitment scheme. Commitments bind encrypted bets to nonces for later claiming.","design":"Create commitment.rs with generate_nonce() using rand crate to create 32-byte random values. Implement compute_commitment(nonce) using sha3 crate to hash nonce with SHA3-256. Create EncryptedBet struct containing encrypted outcome, encrypted amount, commitment hash, and nonce. Ensure nonce is cryptographically secure random.","acceptance_criteria":"- [ ] commitment.rs module created\n- [ ] generate_nonce() returns 32-byte array\n- [ ] compute_commitment() uses SHA3-256\n- [ ] EncryptedBet struct defined\n- [ ] Commitment = SHA3-256(nonce) verified\n- [ ] Tests for nonce uniqueness\n- [ ] Tests for commitment determinism","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:46:42.278358338+01:00","updated_at":"2025-11-09T18:46:42.278358338+01:00","dependencies":[{"issue_id":"monero-predict-5b8a","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.43343559+01:00","created_by":"daemon"},{"issue_id":"monero-predict-5b8a","depends_on_id":"monero-predict-07e8","type":"blocks","created_at":"2025-11-09T18:47:33.088284906+01:00","created_by":"daemon"}]}
{"id":"monero-predict-5ffa","content_hash":"7a27c4f30dee02fcb93dac05fd47083f923371cd19a62253dbccecde51279de3","title":"Create Svelte stores for state management","description":"Set up Svelte stores for reactive state management of wallet, bets, and markets. These stores provide centralized state across components.","design":"Create src/lib/stores/ with walletStore (balance, address, sync status), betsStore (active/resolved/claimed bets), marketsStore (cached market data). Use writable stores with derived stores for computed values. Add store initialization logic that loads from IndexedDB on startup.","acceptance_criteria":"- [ ] walletStore created with proper types\n- [ ] betsStore created with proper types\n- [ ] marketsStore created with proper types\n- [ ] Stores load from IndexedDB on init\n- [ ] Derived stores for computed values\n- [ ] Stores are reactive across components\n- [ ] TypeScript types exported","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T17:50:14.174412185+01:00","updated_at":"2025-11-09T18:16:52.97925762+01:00","closed_at":"2025-11-09T18:16:52.97925762+01:00","dependencies":[{"issue_id":"monero-predict-5ffa","depends_on_id":"monero-predict-99fd","type":"parent-child","created_at":"2025-11-09T17:50:25.913075665+01:00","created_by":"daemon"},{"issue_id":"monero-predict-5ffa","depends_on_id":"monero-predict-096b","type":"blocks","created_at":"2025-11-09T17:50:26.477305144+01:00","created_by":"daemon"}]}
{"id":"monero-predict-6fb1","content_hash":"47a3b0ab53c74ce68bff0b2cbff9912f7a08ac3360b3e12ea7af09e1b1b3c688","title":"Verify dev environment and document setup","description":"Ensure the complete development environment works end-to-end. Create README with setup instructions and architecture overview.","design":"Test full dev workflow: npm install, npm run dev, visit localhost. Verify all routes load, WebTUI theme displays, IndexedDB initializes, WASM configuration works (even without actual WASM files yet). Write README.md with prerequisites (Node 20+), installation steps, project structure, and architecture diagram.","acceptance_criteria":"- [ ] npm run dev starts server successfully\n- [ ] All routes accessible in browser\n- [ ] WebTUI theme renders correctly\n- [ ] IndexedDB initializes without errors\n- [ ] No console errors on page load\n- [ ] README.md created with setup instructions\n- [ ] README includes architecture diagram\n- [ ] README documents all npm scripts","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T17:50:14.73011328+01:00","updated_at":"2025-11-09T18:18:36.482979058+01:00","closed_at":"2025-11-09T18:18:36.482979058+01:00","dependencies":[{"issue_id":"monero-predict-6fb1","depends_on_id":"monero-predict-99fd","type":"parent-child","created_at":"2025-11-09T17:50:25.921530269+01:00","created_by":"daemon"},{"issue_id":"monero-predict-6fb1","depends_on_id":"monero-predict-258d","type":"blocks","created_at":"2025-11-09T17:50:26.994216173+01:00","created_by":"daemon"},{"issue_id":"monero-predict-6fb1","depends_on_id":"monero-predict-475f","type":"blocks","created_at":"2025-11-09T17:50:27.004798825+01:00","created_by":"daemon"},{"issue_id":"monero-predict-6fb1","depends_on_id":"monero-predict-e4a6","type":"blocks","created_at":"2025-11-09T17:50:27.012901329+01:00","created_by":"daemon"},{"issue_id":"monero-predict-6fb1","depends_on_id":"monero-predict-5ffa","type":"blocks","created_at":"2025-11-09T17:50:27.021550272+01:00","created_by":"daemon"}]}
{"id":"monero-predict-9170","content_hash":"322e3fed4e3ab39d2897f2129c4fa67a3ae2b36420dbadd1cad26f7cf4dcc66e","title":"Create TypeScript FHE service wrapper","description":"Create TypeScript service layer for FHE operations in web-bettor. Provide high-level API for key management and bet encryption.","design":"Create src/lib/services/fhe.ts with lazy WASM initialization. Implement initWasm() to load WASM module on first use. Create encryptBet(outcomeYes, amountXMR) function that loads keys from IndexedDB, converts XMR to piconeros, calls WASM encrypt_bet(), returns EncryptedBet. Add decryptBet() for testing. Include error handling with user-friendly messages. Export TypeScript types for EncryptedBet matching Rust struct.","acceptance_criteria":"- [ ] fhe.ts service created\n- [ ] Lazy WASM initialization\n- [ ] encryptBet() function working\n- [ ] XMR to piconeros conversion (1e12)\n- [ ] Loads keys from IndexedDB\n- [ ] Returns typed EncryptedBet object\n- [ ] Error handling with clear messages\n- [ ] TypeScript types exported\n- [ ] Unit tests for service functions","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:46:44.100954251+01:00","updated_at":"2025-11-09T18:46:44.100954251+01:00","dependencies":[{"issue_id":"monero-predict-9170","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.459446722+01:00","created_by":"daemon"},{"issue_id":"monero-predict-9170","depends_on_id":"monero-predict-3a07","type":"blocks","created_at":"2025-11-09T18:47:33.122740294+01:00","created_by":"daemon"}]}
{"id":"monero-predict-99fd","content_hash":"5bbbb3bada31058e7501c782945e5a33fdcc4226f54783baae48c863cc8e92e8","title":"Project Setup \u0026 Core Infrastructure","description":"Set up SvelteKit project with all dependencies, WebTUI styling, routing structure, and IndexedDB schema. This is the foundation for the entire web bettor application.","design":"Use SvelteKit with Vite for build tooling, WebTUI for terminal-aesthetic styling (catppuccin-mocha theme), Dexie.js for IndexedDB wrapper. Configure WASM loading in vite.config for both TFHE and monero-ts. Set up basic routing structure: dashboard, markets, bets, claim, setup.","acceptance_criteria":"- [ ] SvelteKit project initialized with TypeScript\n- [ ] All dependencies installed (monero-ts, dexie, webtui)\n- [ ] WASM loading configured in Vite\n- [ ] WebTUI theme applied (catppuccin-mocha)\n- [ ] Basic routing structure in place\n- [ ] IndexedDB schema defined with Dexie\n- [ ] Dev server runs successfully","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-09T17:47:44.722153171+01:00","updated_at":"2025-11-09T18:18:46.936644134+01:00","closed_at":"2025-11-09T18:18:46.936644134+01:00"}
{"id":"monero-predict-c60c","content_hash":"0e2060d99e9808714ddf39f9d091eef33eb1210ed93c8a3ea392fe87808f73e8","title":"Polish \u0026 Documentation","description":"Add error handling, loading states, TUI-styled notifications, settings page, and documentation. Ensure the application is production-ready with good UX.","design":"Comprehensive error handling for all async operations (wallet, FHE, API calls). Loading states with progress bars for slow operations (key gen, wallet sync, bet encryption). TUI-styled toast notifications for success/error messages. Settings page for daemon URL, theme selection, data export. README with setup instructions, architecture diagram, and usage guide.","acceptance_criteria":"- [ ] Error handling for wallet operations\n- [ ] Error handling for FHE operations\n- [ ] Error handling for coordinator API calls\n- [ ] Loading states for key generation\n- [ ] Loading states for wallet sync\n- [ ] Loading states for bet encryption/submission\n- [ ] TUI-styled toast notifications\n- [ ] Settings page with daemon URL config\n- [ ] Settings page with theme selection\n- [ ] Data export/import for IndexedDB\n- [ ] README with architecture and usage\n- [ ] Code documentation with inline comments","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-09T17:47:58.713000389+01:00","updated_at":"2025-11-09T17:47:58.713000389+01:00","dependencies":[{"issue_id":"monero-predict-c60c","depends_on_id":"monero-predict-d8e0","type":"blocks","created_at":"2025-11-09T17:49:21.829679797+01:00","created_by":"daemon"},{"issue_id":"monero-predict-c60c","depends_on_id":"monero-predict-36b0","type":"blocks","created_at":"2025-11-09T17:49:21.840226403+01:00","created_by":"daemon"},{"issue_id":"monero-predict-c60c","depends_on_id":"monero-predict-41cd","type":"blocks","created_at":"2025-11-09T17:49:21.849914489+01:00","created_by":"daemon"},{"issue_id":"monero-predict-c60c","depends_on_id":"monero-predict-37da","type":"blocks","created_at":"2025-11-09T17:49:21.857962068+01:00","created_by":"daemon"}]}
{"id":"monero-predict-c9f8","content_hash":"44847c9019aa835dd703c91beb5cf2c29dfce7a5cd4f4fed4cc3e7e264cc1337","title":"Create WASM bindings (wasm.rs)","description":"Create wasm-bindgen wrapper for exposing FHE operations to JavaScript. This enables browser usage of the Rust FHE client.","design":"Create wasm.rs with #[cfg(feature = 'wasm')] gate. Define WasmFheClient struct wrapping FheKeyPair. Use #[wasm_bindgen] attribute on struct and impl. Add constructor with #[wasm_bindgen(constructor)] for new WasmFheClient(). Implement encrypt_bet(), export_client_key(), export_server_key(), from_bytes(). Return Result\u003cT, JsValue\u003e for JS-compatible errors. Use serde_wasm_bindgen for struct serialization to JS objects.","acceptance_criteria":"- [ ] wasm.rs with feature gate\n- [ ] WasmFheClient wrapper struct\n- [ ] Constructor for key generation\n- [ ] encrypt_bet() returns JS object\n- [ ] export_client_key() and export_server_key()\n- [ ] from_bytes() for loading stored keys\n- [ ] Result\u003cT, JsValue\u003e error handling\n- [ ] Compiles with --features wasm","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:46:42.909841029+01:00","updated_at":"2025-11-09T18:46:42.909841029+01:00","dependencies":[{"issue_id":"monero-predict-c9f8","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.442536888+01:00","created_by":"daemon"},{"issue_id":"monero-predict-c9f8","depends_on_id":"monero-predict-5b8a","type":"blocks","created_at":"2025-11-09T18:47:33.099812821+01:00","created_by":"daemon"}]}
{"id":"monero-predict-d8e0","content_hash":"51dc3bb92a49e34ce40f5134664e87c8f77f0dc3ad6e07f1742308b8422dddc4","title":"FHE Integration (TFHE WASM)","description":"Build TFHE Rust code to WebAssembly and integrate into the web application. Implement client key generation, bet encryption/decryption, and commitment scheme. This enables privacy-preserving encrypted bets.","design":"Use wasm-pack to compile tfhe-rs to WASM. Create service wrapper in TypeScript with progress tracking for key generation (2-3 min operation). Implement FheUint8 encryption for outcome (YES=0, NO=1) and FheUint64 for amount in piconeros. Use SHA3-256 for commitment generation. Store client keys in IndexedDB encrypted with user password.","acceptance_criteria":"- [ ] TFHE compiled to WASM using wasm-pack\n- [ ] FHE service wrapper with TypeScript types\n- [ ] Client key generation with progress tracking\n- [ ] Bet encryption (outcome + amount) working\n- [ ] Commitment scheme (SHA3-256) implemented\n- [ ] Client keys stored securely in IndexedDB\n- [ ] WASM bundle loads successfully in browser","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-09T17:47:48.442983388+01:00","updated_at":"2025-11-09T17:47:48.442983388+01:00","dependencies":[{"issue_id":"monero-predict-d8e0","depends_on_id":"monero-predict-99fd","type":"blocks","created_at":"2025-11-09T17:49:20.19305191+01:00","created_by":"daemon"}]}
{"id":"monero-predict-e4a6","content_hash":"ff338a3446d21560f06551aea0fb89fb2c8ab73f7ca98eb3d97d6a8248ea940d","title":"Create basic routing structure","description":"Set up SvelteKit routing structure for all main pages: dashboard, markets, bets, claim, and wallet setup. This establishes the navigation framework for the entire app.","design":"Create route directories: /, /markets/[id], /bets, /claim/[id], /setup. Add +page.svelte for each route with placeholder content. Create +layout.svelte for shared navigation and theme. Add basic navigation menu in TUI style.","acceptance_criteria":"- [ ] Route directory structure created\n- [ ] / (dashboard) route with placeholder\n- [ ] /markets/[id] route with placeholder\n- [ ] /bets route with placeholder\n- [ ] /claim/[id] route with placeholder\n- [ ] /setup route with placeholder\n- [ ] Shared +layout.svelte with navigation\n- [ ] Navigation between routes works","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T17:50:13.108222284+01:00","updated_at":"2025-11-09T18:15:22.712103157+01:00","closed_at":"2025-11-09T18:15:22.712103157+01:00","dependencies":[{"issue_id":"monero-predict-e4a6","depends_on_id":"monero-predict-99fd","type":"parent-child","created_at":"2025-11-09T17:50:25.897084018+01:00","created_by":"daemon"},{"issue_id":"monero-predict-e4a6","depends_on_id":"monero-predict-2d49","type":"blocks","created_at":"2025-11-09T17:50:26.460131529+01:00","created_by":"daemon"}]}
{"id":"monero-predict-e919","content_hash":"3cc53d054c79f88432a370a1583d82b823cf03fe3ca0233ccb49ba20afa7a7fa","title":"Initialize SvelteKit project with TypeScript","description":"Create a new SvelteKit project with TypeScript configuration. This is the foundation for the entire web application.","design":"Use npm create svelte@latest with TypeScript template. Enable strict mode in tsconfig.json. Set up basic project structure with src/ directory. Configure for static adapter since this is a client-side web app.","acceptance_criteria":"- [ ] SvelteKit project created with TypeScript\n- [ ] tsconfig.json with strict mode enabled\n- [ ] Project structure follows SvelteKit conventions\n- [ ] Static adapter configured in svelte.config.js\n- [ ] npm install completes successfully\n- [ ] Dev server starts without errors","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T17:50:10.925977804+01:00","updated_at":"2025-11-09T18:07:41.45146852+01:00","closed_at":"2025-11-09T18:07:41.45146852+01:00","dependencies":[{"issue_id":"monero-predict-e919","depends_on_id":"monero-predict-99fd","type":"parent-child","created_at":"2025-11-09T17:50:25.859708203+01:00","created_by":"daemon"}]}
{"id":"monero-predict-ec52","content_hash":"fe1d281a0084de43b0c593af1a1ae9c616bcf7be2c37f7e48320fe01d6d8b81b","title":"Create fhe-client crate with dual-target Cargo.toml","description":"Set up a new Rust crate for FHE client operations that compiles to both native (rlib) and WebAssembly (cdylib). Configure dependencies for dual-target compilation following zcash-perps patterns.","design":"Create crates/fhe-client/ with Cargo.toml configured for crate-type = ['cdylib', 'rlib']. Add tfhe dependency with 'integer-client-js-wasm-api' feature for WASM target. Add wasm-bindgen dependencies with feature gate. Use target-specific dependencies for native vs WASM. Add getrandom with 'js' feature for browser RNG.","acceptance_criteria":"- [ ] crates/fhe-client/ directory created\n- [ ] Cargo.toml with dual crate-type configuration\n- [ ] tfhe dependency with WASM feature for wasm32 target\n- [ ] wasm-bindgen dependencies (feature-gated)\n- [ ] Target-specific dependencies configured\n- [ ] Basic lib.rs with module structure\n- [ ] Cargo check passes for both targets","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-09T18:46:11.49638002+01:00","updated_at":"2025-11-09T18:59:39.177379803+01:00","closed_at":"2025-11-09T18:59:39.177379803+01:00","dependencies":[{"issue_id":"monero-predict-ec52","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.413896516+01:00","created_by":"daemon"}]}
{"id":"monero-predict-ed75","content_hash":"c49f663d2cee0d2c8c0f1e90c10234e9bdda93ef94436992d76f6d9f4eeb4550","title":"Update IndexedDB storage for FHE keys","description":"Extend existing Dexie schema to store FHE client and server keys. Server keys are ~115MB and require IndexedDB (localStorage too small).","design":"Update src/lib/services/storage.ts to add fheKeys table to Dexie schema. Add fields: id, clientKeyData (Uint8Array), serverKeyData (Uint8Array), createdAt. Implement saveFheKeys(clientKey, serverKey), loadFheKeys(), deleteFheKeys(). Handle large binary data (115MB server keys). Add migration if needed. Document storage size requirements.","acceptance_criteria":"- [ ] fheKeys table added to Dexie schema\n- [ ] saveFheKeys() function working\n- [ ] loadFheKeys() returns keys or null\n- [ ] Handles 115MB+ data size\n- [ ] Schema migration if needed\n- [ ] TypeScript types for FheKeys\n- [ ] Error handling for quota exceeded\n- [ ] Storage size logged to console","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:47:12.640419255+01:00","updated_at":"2025-11-09T18:47:12.640419255+01:00","dependencies":[{"issue_id":"monero-predict-ed75","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.477044351+01:00","created_by":"daemon"},{"issue_id":"monero-predict-ed75","depends_on_id":"monero-predict-9170","type":"blocks","created_at":"2025-11-09T18:47:33.145125341+01:00","created_by":"daemon"}]}
{"id":"monero-predict-ee5c","content_hash":"ac4a2bd47097a24e75887d1d230ab7fb90e99feb36cbcd18fd450350ae03727d","title":"Implement Web Worker for key generation","description":"Create Web Worker to run FHE key generation off the main thread. Key generation takes 10-30 seconds and must not block the UI.","design":"Create src/lib/workers/fhe-keygen.worker.ts. Import WASM module and initialize in worker context. Listen for 'generate' message, call WasmFheClient constructor, report progress at 10% (init), 50% (generating), 70% (exporting), 100% (complete). Use postMessage with Transferable for clientKey/serverKey to transfer ownership efficiently. Handle errors and report via postMessage.","acceptance_criteria":"- [ ] fhe-keygen.worker.ts created\n- [ ] WASM initialization in worker\n- [ ] Progress reporting (0%, 10%, 50%, 70%, 100%)\n- [ ] Key generation in worker thread\n- [ ] postMessage with Transferable buffers\n- [ ] Error handling and reporting\n- [ ] Worker termination after completion\n- [ ] Integration test with UI component","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-09T18:47:12.016379567+01:00","updated_at":"2025-11-09T18:47:12.016379567+01:00","dependencies":[{"issue_id":"monero-predict-ee5c","depends_on_id":"monero-predict-d8e0","type":"parent-child","created_at":"2025-11-09T18:47:23.467893124+01:00","created_by":"daemon"},{"issue_id":"monero-predict-ee5c","depends_on_id":"monero-predict-9170","type":"blocks","created_at":"2025-11-09T18:47:33.133971481+01:00","created_by":"daemon"}]}
